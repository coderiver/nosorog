function declension(e,t){"string"==typeof t&&(t=t.split(";"));var o=e%100;switch(e%10){case 1:return 11==o?t[2]:t[0];case 2:case 3:case 4:return o>10&&20>o?t[2]:t[1];case 5:case 6:case 7:case 8:case 9:case 0:return t[2]}}function highdpiInit(){if("1px"==$(".replace-2x").css("font-size"))for(var e=$("img.replace-2x").get(),t=0;t<e.length;t++){src=e[t].src,extension=src.substr(src.lastIndexOf(".")+1),src=src.replace("."+extension,"2x."+extension);var o=new Image;o.src=src,e[t].src=0!=o.height?src:e[t].src}}function scrollCompensate(){var e=document.createElement("p");e.style.width="100%",e.style.height="200px";var t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.appendChild(e),document.body.appendChild(t);var o=e.offsetWidth;t.style.overflow="scroll";var n=e.offsetWidth;return o==n&&(n=t.clientWidth),document.body.removeChild(t),o-n}function responsiveResize(){compensante=scrollCompensate(),$(window).width()+scrollCompensate()<=767&&0==responsiveflag?(accordion("enable"),accordionFooter("enable"),responsiveflag=!0):$(window).width()+scrollCompensate()>=768&&(accordion("disable"),accordionFooter("disable"),responsiveflag=!1),"undefined"!=typeof page_name&&in_array(page_name,["category"])&&resizeCatimg()}function blockHover(){$(document).off("mouseenter").on("mouseenter",".product_list.grid li.ajax_block_product .product-container",function(){if(1170==$("body").find(".container").width()){var e=$(this).parent().outerHeight(),t=$(this).parent().find(".button-container").outerHeight()+$(this).parent().find(".comments_note").outerHeight()+$(this).parent().find(".functional-buttons").outerHeight();$(this).parent().addClass("hovered").css({height:e+t,"margin-bottom":-1*t})}}),$(document).off("mouseleave").on("mouseleave",".product_list.grid li.ajax_block_product .product-container",function(){1170==$("body").find(".container").width()&&$(this).parent().removeClass("hovered").css({height:"auto","margin-bottom":"0"})})}function quick_view(){$(document).on("click",".quick-view:visible, .quick-view-mobile:visible",function(e){e.preventDefault();var t=this.rel;t+=-1!=t.indexOf("?")?"&":"?",curProdUrl=t+"content_only=1",$.prototype.fancybox&&$.fancybox({padding:0,autoSize:!1,autoHeight:!0,width:1e3,type:"iframe",overlayLock:!0,iframe:{scrolling:"no"},href:t+"content_only=1"})})}function bindGrid(){var e=$.totalStorage("display");!e&&"undefined"!=typeof displayList&&displayList&&(e="list"),e&&"grid"!=e?display(e):$(".display").find("li#grid").addClass("selected"),$(document).on("click","#grid",function(e){e.preventDefault(),display("grid")}),$(document).on("click","#list",function(e){e.preventDefault(),display("list")})}function display(e){"list"==e?($("ul.product_list").removeClass("grid").addClass("list row"),$(".product_list > li").removeClass("one").addClass("three"),$(".display").find("li#list").addClass("selected"),$(".display").find("li#grid").removeAttr("class"),$.totalStorage("display","list")):($("ul.product_list").removeClass("list").addClass("grid row"),$(".product_list > li").removeClass("three").addClass("one"),$(".display").find("li#grid").addClass("selected"),$(".display").find("li#list").removeAttr("class"),$.totalStorage("display","grid"))}function dropDown(){elementClick=".current",elementSlide="ul.toogle_content",activeClass="active",$(elementClick).on("click",function(e){e.stopPropagation();var t=$(this).next(elementSlide);t.is(":hidden")?(t.slideDown(),$(this).addClass(activeClass)):(t.slideUp(),$(this).removeClass(activeClass)),$(elementClick).not(this).next(elementSlide).slideUp(),$(elementClick).not(this).removeClass(activeClass),e.preventDefault()}),$(elementSlide).on("click",function(e){e.stopPropagation()}),$(document).on("click",function(e){e.stopPropagation();var t=$(elementClick).next(elementSlide);$(t).slideUp(),$(elementClick).removeClass("active")})}function accordionFooter(e){"enable"==e?($("#footer .footer-block h4").on("click",function(){$(this).toggleClass("active").parent().find(".toggle-footer").stop().slideToggle("medium")}),$("#footer").addClass("accordion").find(".toggle-footer").slideUp("fast")):($(".footer-block h4").removeClass("active").off().parent().find(".toggle-footer").removeAttr("style").slideDown("fast"),$("#footer").removeClass("accordion"))}function accordion(e){leftColumnBlocks=$("#left_column"),"enable"==e?($("#right_column .block .title_block, #left_column .block .title_block, #left_column #newsletter_block_left h4").on("click",function(){$(this).toggleClass("active").parent().find(".block_content").stop().slideToggle("medium")}),$("#right_column, #left_column").addClass("accordion").find(".block .block_content").slideUp("fast")):($("#right_column .block .title_block, #left_column .block .title_block, #left_column #newsletter_block_left h4").removeClass("active").off().parent().find(".block_content").removeAttr("style").slideDown("fast"),$("#left_column, #right_column").removeClass("accordion"))}function resizeCatimg(){var e=$(".cat_desc").parent("div"),t=new Image;$(t).load(function(){var o=t.width,n=t.height,i=parseFloat(n/o),s=Math.round(i*parseInt(e.outerWidth(!1)));e.css("min-height",s)}),e.length&&(t.src=e.css("background-image").replace(/url\("?|"?\)$/gi,""))}var responsiveflag=!1;$(document).ready(function(){if($("#center_column .rte .btn.js-show-content").each(function(e,t){$(t).find("span").length||($(t).attr("data-text","Подробнее"),$(t).attr("data-hidden-text","Скрыть"),$(t).html('<span class="button-text">Подробнее</span> <i class="icon-chevron-down right"></i>'))}),$(".show-more-wrap").each(function(){$(this).height()<200&&$(this).find(".show-more-footer").hide()}),$(document).on("click",".js-show-content",function(){var e=$(this),t=e.closest(".show-more-wrap");t.hasClass("open")?(e.find(".button-text").html(e.data("text")),t.css({maxHeight:"273px"}),t.removeClass("open")):(e.find(".button-text").html(e.data("hidden-text")),t.css({maxHeight:"100%"}),t.addClass("open"))}),highdpiInit(),responsiveResize(),$(window).resize(responsiveResize),navigator.userAgent.match(/Android/i)){var e=document.querySelector('meta[name="viewport"]');e.setAttribute("content","initial-scale=1.0,maximum-scale=1.0,user-scalable=0,width=device-width,height=device-height"),window.scrollTo(0,1)}blockHover(),"undefined"!=typeof quickView&&quickView&&quick_view(),dropDown(),"undefined"==typeof page_name||in_array(page_name,["index","product"])||(bindGrid(),$(document).on("change",".selectProductSort",function(){if("undefined"!=typeof request&&request)var e=request;var t=$(this).val().split(":");"undefined"!=typeof e&&e&&(document.location.href=e+(e.indexOf("?")<0?"?":"&")+"orderby="+t[0]+"&orderway="+t[1])}),$(document).on("change",'select[name="n"]',function(){$(this.form).submit()}),$(document).on("change",'select[name="manufacturer_list"], select[name="supplier_list"]',function(){""!=this.value&&(location.href=this.value)}),$(document).on("change",'select[name="currency_payement"]',function(){setCurrency($(this).val())})),$(document).on("click",".back",function(e){e.preventDefault(),history.back()}),jQuery.curCSS=jQuery.css,$.prototype.cluetip&&$("a.cluetip").cluetip({local:!0,cursor:"pointer",dropShadow:!1,dropShadowSteps:0,showTitle:!1,tracking:!0,sticky:!1,mouseOutClose:!0,fx:{open:"fadeIn",openSpeed:"fast"}}).css("opacity",.8),$.prototype.fancybox&&$.extend($.fancybox.defaults.tpl,{closeBtn:'<a title="'+FancyboxI18nClose+'" class="fancybox-item fancybox-close" href="javascript:;">'+FancyboxI18nClose+"</a>",next:'<a title="'+FancyboxI18nNext+'" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="'+FancyboxI18nPrev+'" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'}),$(".products-catalog-list > .list-item").addClass("list-menu"),$(".list-menu > .list-wrap > .list-item > .list-wrap").addClass("list-menu"),$(document).on("click",".scroll-top",function(){$("html, body").animate({scrollTop:0},300)}),$(".phone-row").length&&$(document).on("keyup",".phone-row .cell-operator",function(){this.value.length>=this.maxLength&&$(this).siblings(".phone-num").focus()})});var curProdUrl="";$(document).on("click","#back-prod-link",function(){$.fancybox.open(curProdUrl,{padding:0,autoSize:!1,autoHeight:!0,width:1e3,type:"iframe",overlayLock:!0,iframe:{scrolling:"no"}})});